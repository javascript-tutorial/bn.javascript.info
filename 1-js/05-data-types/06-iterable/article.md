
# ржЗржЯрж╛рж░рзЗржмрж▓рж╕

*Iterable* ржЕржмржЬрзЗржХрзНржЯ рж╣рж▓ ржПржХржзрж░ржгрзЗрж░ ржЕрзНржпрж╛рж░рзЗрж░ ржзрж╛рж░ржгрж╛ред ржПржЯрж┐ ржПржоржи ржПржХржЯрж┐ ржзрж╛рж░ржгрж╛ ржпрж╛рж░ рж╕рж╛рж╣рж╛ржпрзНржпрзЗ ржЖржорж░рж╛ ржХрзЛржи ржПржХржЯрж┐ ржЕржмржЬрзЗржХрзНржЯржХрзЗ `for..of` рж▓рзБржкрзЗрж░ рж╕рж╛рж╣рж╛ржпрзНржпрзЗ ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕ ржХрж░рждрзЗ ржкрж╛рж░ржмред

ржЖржорж░рж╛ ржЗрждрзЛржоржзрзНржпрзЗ ржЬрж╛ржирж┐ ржЕрзНржпрж╛рж░рзЗ ржЗржЯрж╛рж░рзЗржмрж▓ред ржПржЫрж╛рзЬрж╛ржУ ржЖрж░рзЛ ржмрж┐ржнрж┐ржирзНржи ржмрж┐рж▓рзНржЯ-ржЗржи ржЗржЯрж╛рж░рзЗржмрж▓ ржЕржмржЬрзЗржХрзНржЯ ржЖржЫрзЗред ржпрзЗржоржи: рж╕рзНржЯрзНрж░рж┐ржВред

ржпржжрж┐ ржХрзЛржи ржПржХржЯрж┐ ржЕржмржЬрзЗржХрзНржЯ ржЕрзНржпрж╛рж░рзЗ ржирж╛ рж╣рзЯ, ржХрж┐ржирзНрждрзБ ржПржЯрж┐ ржПржХржЯрж┐ ржХрж╛рж▓рзЗржХрж╢ржиржХрзЗ ржкрзНрж░ржХрж╛рж╢ ржХрж░рзЗ ржпрзЗржоржи:list, set ржЗрждрзНржпрж╛ржжрж┐, рждрж╛рж╣рж▓рзЗ ржЖржорж░рж╛ `for..of` рж▓рзБржкрзЗрж░ рж╕рж╛рж╣рж╛ржпрзНржпрзЗ ржкрзНрж░ржкрж╛рж░рзНржЯрж┐ржЧрзБрж▓рзЛ ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕ ржХрж░рждрзЗ ржкрж╛рж░рж┐, ржЪрж▓рзБржи ржжрзЗржЦрж┐ ржПржЯрж┐ ржХрж┐ржнрж╛ржмрзЗ ржХрж░рж╛ ржпрж╛рзЯред


## Symbol.iterator

ржЖржорж░рж╛ ржирж┐ржЬрзЗрж░рж╛ ржПржХржЯрж┐ ржЗржЯрж╛рж░рзЗржмрж▓ ржЕржмржЬрзЗржХрзНржЯ ржмрж╛ржирж╛ржирзЛрж░ ржорж╛ржзрзНржпржорзЗ ржзрж╛рж░ржгрж╛ржЯрж┐ ржирж┐рждрзЗ ржкрж╛рж░рж┐ред

ржЙржжрж╛рж╣рж░ржгрж╕рзНржмрж░рзВржк, ржЖржорж╛ржжрзЗрж░ ржПржХржЯрж┐ ржЕржмржЬрзЗржХрзНржЯ ржЖржЫрзЗ ржпрж╛ ржЗржЯрж╛рж░рзЗржмрж▓ ржиржЗ, ржПржЦржи ржПржЯрж┐ржХрзЗ ржЖржорж░рж╛ `for..of` ржПрж░ ржЬржирзНржп ржЗржоржкрзНрж▓рж┐ржорзЗржирзНржЯ ржХрж░ржмред

ржпрзЗржоржи ржирж┐ржЪрзЗрж░ `range` ржЕржмржЬрзЗржХрзНржЯржЯрж┐ ржжрзБржЯрж┐ ржирж╛ржорзНржмрж╛рж░рзЗрж░ ржмрзНржпржмржзрж╛ржи ржжрзЗржЦрж╛рзЯ:

```js
let range = {
  from: 1,
  to: 5
};

// ржЖржорж░рж╛ ржЪрж╛рзЯ ржПржЦрж╛ржирзЗ for..of ржХрж╛ржЬ ржХрж░рзБржХ:
// for(let num of range) ... num=1,2,3,4,5
```

`range` ржХрзЗ ржЗржЯрж╛рж░рзЗржмрж▓ ржХрж░рждрзЗ (ржПржмржВ `for..of` рж▓рзБржк ржХрзЗ ржХрж╛ржЬ ржХрж░рж╛рждрзЗ) ржЖржорж╛ржжрзЗрж░ ржПржХржЯрж┐ ржорзЗржержб ржпрзБржХрзНржд ржХрж░рждрзЗ рж╣ржмрзЗ `Symbol.iterator` (ржПржХржЯрж┐ ржмрж┐рж╢рзЗрж╖ ржмрж┐рж▓рзНржЯ-ржЗржи рж╕рж┐ржорзНржмрж▓)ред

1. ржпржЦржи `for..of` рж╢рзБрж░рзБ рж╣рзЯ, рждржЦржи ржорзЗржержбржЯрж┐ржХрзЗ ржПржХржмрж╛рж░ ржХрж▓ ржХрж░рзЗ (ржЕржержмрж╛ ржирж╛ ржкрзЗрж▓рзЗ ржПрж░рж░ ржерзНрж░рзЛ ржХрж░рзЗ)ред ржорзЗржержбржЯрж┐ ржПржХржЯрж┐ *iterator* ржЕржмржЬрзЗржХрзНржЯ рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рзЗ -- ржпрж╛рж░ `next` ржирж╛ржорзЗрж░ ржПржХржЯрж┐ ржорзЗржержб ржерж╛ржХрзЗред
2. ржПрж░ржкрж░, `for..of` ржХрж╛ржЬ ржХрж░ржмрзЗ *ржР рж░рж┐ржЯрж╛рж░рзНржиржХрзГржд ржЕржмржЬрзЗржХрзНржЯржЯрж┐ ржирж┐рзЯрзЗ*ред
3. ржпржЦржи `for..of` ржкрж░ржмрж░рзНрждрзА ржорж╛ржиржЯрж┐ ржЬрж╛ржирждрзЗ ржЪрж╛ржЗржмрзЗ, рждржЦржи ржПржЯрж┐ ржР ржЕржмржЬрзЗржХрзНржЯрзЗрж░ `next()` ржорзЗржержбржХрзЗ ржХрж▓ ржХрж░рзЗред
4. `next()` ржПрж░ рж░рж┐ржЯрж╛рж░рзНржиржХрзГржд ржорж╛ржи рж╣ржмрзЗ ржПржнрж╛ржмрзЗ `{done: Boolean, value: any}`, ржпрзЗржЦрж╛ржирзЗ `done=true` ржжрзНржмрж╛рж░рж╛ ржмрзБржЭрж╛рзЯ ржЖржорж╛ржжрзЗрж░ ржЗржЯрж╛рж░рзЗрж╢ржиржЯрж┐ рж╕ржорзНржкржирзНржи рж╣рзЯрзЗржЫрзЗред

ржирж┐ржЪрзЗ `range` ржЕржмржЬрзЗржХрзНржЯржХрзЗ ржЖржорж░рж╛ ржЗржЯрж╛рж░рзЗржмрж▓ рж╣рж┐рж╕рзЗржмрзЗ ржЗржоржкрзНрж▓рж┐ржорзЗржирзНржЯ ржХрж░рзЗржЫрж┐:

```js run
let range = {
  from: 1,
  to: 5
};

// 1. for..of ржкрзНрж░ржержоржмрж╛рж░ ржПржЯрж┐ржХрзЗ ржХрж▓ ржХрж░ржмрзЗ
range[Symbol.iterator] = function() {

  // ...ржПржЯрж┐ ржЗржЯрж╛рж░рзЗржЯрж░ ржЕржмржЬрзЗржХрзНржЯ рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рзЗ:
  // 2. ржПрж░ржкрж░, for..of рж╢рзБржзрзБржорж╛рждрзНрж░ ржПржЗ ржЗржЯрж╛рж░рзЗржЯрж░ржЯрж┐ ржирж┐рзЯрзЗ ржХрж╛ржЬ ржХрж░ржмрзЗ, ржПржмржВ ржкрж░ржмрж░рзНрждрзА ржорж╛ржиржЯрж┐ ржЬрж╛ржирждрзЗ ржЪрж╛ржЗржмрзЗ
  return {
    current: this.from,
    last: this.to,

    // 3. ржкрзНрж░рждрж┐ржмрж╛рж░ for..of ржПрж░ ржЗржЯрж╛рж░рзЗрж╢ржирзЗ next() ржорзЗржержбржЯрж┐ ржХрж▓ рж╣ржмрзЗ
    next() {
      // 4. ржПржЯрж┐ ржПржЗ ржлрж░рзНржорзЗ ржПржХржЯрж┐ ржЕржмржЬрзЗржХрзНржЯ рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рзЗ  {done:.., value :...} ржПржмржВ ржЗржЯрж╛рж░рзЗрж╢ржи рж╢рзЗрж╖ рж╣рж▓рзЗ рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рзЗ  {done: true}
      if (this.current <= this.last) {
        return { done: false, value: this.current++ };
      } else {
        return { done: true };
      }
    }
  };
};

// ржПржЦржи ржПржЯрж┐ ржХрж╛ржЬ ржХрж░ржмрзЗ!
for (let num of range) {
  alert(num); // 1, then 2, 3, 4, 5
}
```

ржжрзЯрж╛ ржХрж░рзЗ ржЗржЯрж╛рж░рзЗржмрж▓рзЗрж░ ржХрзЛрж░ ржлрж┐ржЪрж╛рж░ рж╕ржорзНржкрж░рзНржХрзЗ ржЬрзЗржирзЗ рж░рж╛ржЦрзБржиред

- `range` ржПрж░ ржирж┐ржЬрзЗрж░ ржХрзЛржи `next()` ржорзЗржержб ржирзЗржЗред
- рждрж╛рж░ ржкрж░рж┐ржмрж░рзНрждрзЗ ржЕржирзНржп ржПржХржЯрж┐ ржЗржЯрж╛рж░рзЗржЯрж░ ржЕржмржЬрзЗржХрзНржЯ рждрзИрж░рж┐ ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗ `range[Symbol.iterator]()` ржПрж░ ржжрзНржмрж╛рж░рж╛, ржПржмржВ ржПрж░ `next()` ржорзЗржержбржЯрж┐ ржкрзНрж░рждрж┐ржмрж╛рж░ ржЗржЯрж╛рж░рзЗрж╢ржирзЗ ржорж╛ржиржЯрж┐ рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рзЗред

рж╕рзБрждрж░рж╛ржВ ржЗржЯрж╛рж░рзЗржЯрж░ ржЕржмржЬрзЗржХрзНржЯржЯрж┐ ржЗржЯрж╛рж░рзЗрж╢ржи рж╢рзЗрж╖рзЗ `range` ржЕржмржЬрзЗржХрзНржЯржЯрж┐ рж╣рждрзЗ ржЖрж▓рж╛ржжрж╛ред

ржЖржорж░рж╛ ржХрзЛржб ржХрзЗ ржЖрж░рзЛ рж╕рж╣ржЬржмрзЛржзрзНржп ржХрж░рждрзЗ ржПржжрзЗрж░ ржПржХрж╕рж╛ржерзЗ рж▓рж┐ржЦрждрзЗ ржкрж╛рж░рж┐ред

ржПржнрж╛ржмрзЗ:

```js run
let range = {
  from: 1,
  to: 5,

  [Symbol.iterator]() {
    this.current = this.from;
    return this;
  },

  next() {
    if (this.current <= this.to) {
      return { done: false, value: this.current++ };
    } else {
      return { done: true };
    }
  }
};

for (let num of range) {
  alert(num); // 1, then 2, 3, 4, 5
}
```

ржПржЦржи `range[Symbol.iterator]()` рж░рж┐ржЯрж╛рж░рзНржи ржХрж░ржмрзЗ `range` ржЕржмржЬрзЗржХрзНржЯржЯрж┐ржХрзЗржЗ:  ржПржЯрж┐рж░ `next()` ржорзЗржержб ржерж╛ржХрзЗ ржПржмржВ ржПржЯрж┐ ржХрж╛рж░рзЗржирзНржЯ ржЗржЯрж╛рж░рзЗрж╢ржи рж╕ржВрж░ржХрзНрж╖ржг ржХрж░ржмрзЗ `this.current` ржПред ржПржЯрж┐ ржЖрж░рзЛ рж╕ржВржХрзНрж╖рж┐ржкрзНржд рждрж╛ржЗ ржирж╛? рж╣рзНржпрж╛ржБред ржЕржирзЗржХ рж╕ржорзЯ ржПржнрж╛ржмрзЗ ржХрж░рж╛ ржнрж╛рж▓ред

рждржмрзЗ ржПржЯрж┐рж░ ржПржХржЯрж┐ рж╕рзАржорж╛ржмржжрзНржзрждрж╛ ржЖржЫрзЗ, ржЖржорж░рж╛ ржПржХржЗрж╕рж╛ржерзЗ ржжрзБржЯрж┐ `for..of` рж▓рзБржк ржЪрж╛рж▓рж╛рждрзЗ ржкрж╛рж░ржм ржирж╛: рждрж╛рж░рж╛ рждрж╛ржжрзЗрж░ ржЗржЯрж╛рж░рзЗрж╢ржи рж╕рзНржЯрзЗржЯ рж╢рзЗрзЯрж╛рж░ ржХрж░ржмрзЗ ржХрзЗржиржирж╛ ржПржЦрж╛ржирзЗ ржЕржмржЬрзЗржХрзНржЯржЯрж┐рждрзЗ рж╢рзБржзрзБржорж╛рждрзНрж░ ржПржХржЯрж┐ ржЗржЯрж╛рж░рзЗржЯрж░ ржЖржЫрзЗред рждржмрзЗ ржмрж╛рж╕рзНрждржм ржХрзНрж╖рзЗрждрзНрж░рзЗ ржПржХржЗрж╕рж╛ржерзЗ ржжрзБржЯрж┐ `for..of` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯ ржирж╛ ржмрж▓рж▓рзЗржЗ ржЪрж▓рзЗ, ржПржоржиржХрж┐ ржЕрзНржпрж╛рж╕рж┐ржЩрзНржХрзНрж░рзЛржирж╛рж╕ржУред

```smart header="ржЗржиржлрж┐ржирж┐ржЯ ржЗржЯрж╛рж░рзЗржЯрж░"
ржЗржирж┐ржлрж┐ржирж┐ржЯ ржЗржЯрж╛рж░рзЗржЯрж░ рждрзИрж░рж┐ ржХрж░рж╛ржУ рж╕ржорзНржнржмред ржпрзЗржоржи `range.to = Infinity` ржПрж░ ржЬржирзНржп `range` ржЗржиржлрж┐ржирж┐ржЯ ржЗржЯрж╛рж░рзЗржЯрж░ рж╣ржмрзЗред ржЕржержмрж╛ ржПржоржи ржПржХржЯрж┐ ржЗржЯрж╛рж░рзЗржмрж▓ ржЕржмржЬрзЗржХрзНржЯ рждрзИрж░рж┐ ржХрж░рждрзЗ ржкрж╛рж░рж┐ ржпрж╛ ржЗржирж┐ржлрж┐ржирж┐ржЯ рж╕рж┐ржХрзНржпрзБрзЯрзЗржирзНрж╕рзЗ рж░тАНрзНржпрж╛ржирзНржбржо ржирж╛ржорзНржмрж╛рж░ ржЬрзЗржирж╛рж░рзЗржЯ ржХрж░ржмрзЗред

`next` ржПрж░ ржХрзЛржи ржирж┐рж░рзНржжрж┐рж╖рзНржЯ рж╕рзАржорж╛ ржирзЗржЗ, ржПржЯрж┐ ржПржХрзЗрж░ ржкрж░ ржПржХ ржнрзНржпрж╛рж▓рзБ рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рждрзЗ ржкрж╛рж░рзЗ, ржПржЯрж┐ рж╕рзНржмрж╛ржнрж╛ржмрж┐ржХред

ржЕржмрж╢рзНржпржЗ, ржЖржорж░рж╛ `for..of` рж▓рзБржкржХрзЗ ржЗржирж┐ржлрж┐ржирж┐ржЯ рж╣рж┐рж╕рзЗржмрзЗ рждрзИрж░рж┐ ржХрж░рждрзЗ ржкрж╛рж░рж┐, рждржмрзЗ ржЕржирзНржпрж╛ржирзНржп рж▓рзБржкрзЗрж░ ржоржд ржПржЯрж┐ржХрзЗржУ `break` ржПрж░ рж╕рж╛рж╣рж╛ржпрзНржпрзЗ ржерж╛ржорж╛рждрзЗ ржкрж╛рж░рж┐ред
```


## рж╕рзНржЯрзНрж░рж┐ржВржУ ржЗржЯрж╛рж░рзЗржмрж▓

рж╕ржмржЪрзЗрзЯрзЗ ржмрзЗрж╢рж┐ ржмрзНржпржмрж╣рзГржд ржЗржЯрж╛рж░рзЗржмрж▓ рж╣рж▓ ржЕрзНржпрж╛рж░рзЗ ржПржмржВ рж╕рзНржЯрзНрж░рж┐ржВред

ржПржХржЯрж┐ рж╕рзНржЯрзНрж░рж┐ржВрзЯрзЗрж░ ржЬржирзНржп, `for..of` ржПрж░ рж╕рж╛рж╣рж╛ржпрзНржпрзЗ ржПрж░ ржХрзНржпрж╛рж░рзЗржХрзНржЯрж╛рж░ржХрзЗ ржЗржЯрж╛рж░рзЗржЯ ржХрж░рждрзЗ ржкрж╛рж░рж┐:

```js run
for (let char of "test") {
  // рзк ржмрж╛рж░ ржЗржЯрж╛рж░рзЗрж╢ржи рж╣ржмрзЗ: ржкрзНрж░рждрж┐ржЯрж┐ ржХрзНржпрж╛рж░рзЗржХрзНржЯрж╛рж░рзЗрж░ ржЬржирзНржп
  alert( char ); // t, рждрж╛рж░ржкрж░ e, рждрж╛рж░ржкрж░ s, рждрж╛рж░ржкрж░ t
}
```

ржПржЫрж╛рзЬрж╛ржУ ржПржЯрж┐ *surrogate pairs* ржПрж░ ржЬржирзНржпржУ ржХрж╛ржЬ ржХрж░ржмрзЗ!

```js run
let str = 'ЁЭТ│ЁЯШВ';
for (let char of str) {
    alert( char ); // ЁЭТ│, and then ЁЯШВ
}
```

## ржЕржирзНржп ржнрж╛ржмрзЗ ржЗржЯрж╛рж░рзЗржЯрж░ржХрзЗ ржХрж▓

ржЗржЯрж╛рж░рзЗржЯрж░ ржХрзАржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ рждрж╛ ржЖрж░рзЛ ржЧржнрзАрж░ржнрж╛ржмрзЗ ржмрзБржЭрждрзЗ ржЪрж▓рзБржи ржЕржирзНржпржнрж╛ржмрзЗ ржПржХржЯрж┐ рж╕рзНржЯрзНрж░рж┐ржВржХрзЗ ржЗржЯрж╛рж░рзЗрж╢ржи ржХрж░рж┐ред

ржЖржорж░рж╛ ржПржХржЯрж┐ рж╕рзНржЯрзНрж░рж┐ржВржХрзЗ `for..of` ржПрж░ ржоржд ржХрж░рзЗ ржЗржЯрж╛рж░рзЗржЯ ржХрж░ржм, рждржмрзЗ рж╕рж░рж╛рж╕рж░рж┐ ржХрж▓рзЗрж░ ржорж╛ржзрзНржпржорзЗред ржирж┐ржЪрзЗ ржХрзЛржбржЯрж┐ ржПржХржЯрж┐ рж╕рзНржЯрзНрж░рж┐ржВ ржЗржЯрж╛рж░рзЗржЯрж░ рждрзИрж░рж┐ ржХрж░ржмрзЗ ржПржмржВ ржПрж░ ржорж╛ржи ржЖржорж░рж╛ ржорзНржпрж╛ржирзБрзЯрж╛рж▓рж┐ ржЗржЯрж╛рж░рзЗржЯ ржХрж░ржм:

```js run
let str = "Hello";

// ржХрж╛ржЬ ржХрж░ржмрзЗ ржПржЯрж┐рж░ ржоржд
// for (let char of str) alert(char);

*!*
let iterator = str[Symbol.iterator]();
*/!*

while (true) {
  let result = iterator.next();
  if (result.done) break;
  alert(result.value); // ржкрзНрж░рждрж┐ржЯрж┐ ржХрзНржпрж╛рж░рзЗржХрзНржЯрж╛рж░рзЗрж░ ржПржХрзЗрж░ ржкрж░ ржПржХ ржжрзЗржЦрж╛ржмрзЗ
}
```

ржПржЯрж┐ ржХржжрж╛ржЪрж┐рзО ржкрзНрж░рзЯрзЛржЬржи рж╣рждрзЗ ржкрж╛рж░рзЗ, рждржмрзЗ ржПржнрж╛ржмрзЗ `for..of` ржПрж░ ржЪрзЗрзЯрзЗ ржмрзЗрж╢рж┐ ржХржирзНржЯрзНрж░рзЛрж▓ ржерж╛ржХрзЗред ржпрзЗржоржи, ржЖржорж░рж╛ ржЖржорж╛ржжрзЗрж░ ржЗржЯрж╛рж░рзЗрж╢ржи ржкрзНрж░рж╕рзЗрж╕ржХрзЗ ржмрж┐ржнржХрзНржд ржХрж░рзЗ ржирж┐рждрзЗ ржкрж╛рж░рж┐: ржХрзЯрзЗржХржмрж╛рж░ ржЗржЯрж╛рж░рзЗрж╢ржи ржЪрж╛рж▓рж┐рзЯрзЗ, рждрж╛рж░ржкрж░ ржерж╛ржорж╛ржм, ржПрж░ржкрж░ ржЕржирзНржпрж╛ржирзНржп ржХрж╛ржЬ ржХрж░рзЗ ржЗржЯрж╛рж░рзЗржЯрж░ржЯрж┐ ржкрзБржирж░рж╛рзЯ ржЪрж╛рж▓рзБ ржХрж░ржмред

## ржЗржЯрж╛рж░рзЗржмрж▓рж╕ ржПржмржВ array-likes [#array-like]

ржЗржЯрж╛рж░рзЗржмрж▓ ржПржмржВ ржЕрзНржпрж╛рж░рзЗ ржжрзБржЯрж┐ржЗ ржжрзЗржЦрждрзЗ ржПржХржЗ, рждржмрзЗ рждрж╛ржжрзЗрж░ ржоржзрзНржпрзЗ ржнрж┐ржирзНржирждрж╛ рж░рзЯрзЗржЫрзЗред ржмрж┐ржнрзНрж░рж╛ржирзНрждрж┐ ржПрзЬрж╛рждрзЗ ржирж┐рж╢рзНржЪрж┐ржд рж╣ржи ржЖржкржирж┐ ржПржжрзЗрж░ ржкрж╛рж░рзНржержХрзНржпржЯрж┐ ржнрж╛рж▓рзЛржнрж╛ржмрзЗ ржмрзБржЭрждрзЗ ржкрзЗрж░рзЗржЫрзЗржиред

- *Iterables* ржПржХржЯрж┐ ржЕржмржЬрзЗржХрзНржЯ ржпрж╛рж░ `Symbol.iterator` ржорзЗржержб ржЖржЫрзЗред
- *Array-likes* ржПржХржЯрж┐ ржЕржмржЬрзЗржХрзНржЯ ржпрж╛рж░ ржкрзНрж░ржкрж╛рж░рзНржЯрж┐ржЧрзБрж▓рзЛ ржирж┐ржЙржорзЗрж░рж┐ржХ ржЗржиржбрзЗржХрзНрж╕ ржЖржХрж╛рж░рзЗ ржПржмржВ `length` ржкрзНрж░ржкрж╛рж░рзНржЯрж┐ ржЖржЫрзЗ, рж╕рзБрждрж░рж╛ржВ ржПржЯрж┐ ржжрзЗржЦрждрзЗ ржЕрзНржпрж╛рж░рзЗрж░ ржорждред

ржмрж╛рж╕рзНрждржмржХрзНрж╖рзЗрждрзНрж░рзЗ ржЬрж╛ржнрж╛рж╕рзНржХрзНрж░рж┐ржкрзНржЯ ржмрзНржпржмрж╣рж╛рж░рзЗрж░ рж╕ржорзЯ ржЖржорж░рж╛ ржПржЗ ржзрж░ржгрзЗрж░ ржЕржмржЬрзЗржХрзНржЯ ржирж┐рзЯрзЗ ржХрж╛ржЬ ржХрж░рж┐ ржпрж╛рж░рж╛ рж╣рзЯржд ржЗржЯрж╛рж░рзЗржмрж▓ ржЕржержмрж╛ ржжрзЗржЦрждрзЗ ржЕрзНржпрж╛рж░рзЗрж░ ржоржд, ржЕржержмрж╛ ржЙржнрзЯржЗред

ржпрзЗржоржи, рж╕рзНржЯрзНрж░рж┐ржВ ржЗржЯрж╛рж░рзЗржмрж▓ ржЖржмрж╛рж░ ржПржЯрж┐ ржжрзЗржЦрждрзЗ ржЕрзНржпрж╛рж░рзЗрж░ ржорждржУ  (ржХрзЗржиржирж╛ ржПрж░ numeric index ржУ `length` ржЖржЫрзЗ)ред

ржХрж┐ржирзНрждрзБ ржПржХржЯрж┐ ржЗржЯрж╛рж░рзЗржмрж▓ ржжрзЗржЦрждрзЗ ржЕрзНржпрж╛рж░рзЗрж░ ржоржд ржирж╛ржУ рж╣рждрзЗ ржкрж╛рж░рзЗред ржЖржмрж╛рж░ ржЕржирзНржп ржжрж┐ржХрзЗ ржЕрзНржпрж╛рж░рзЗрж░ ржоржд рж╣рж▓рзЗржУ ржПржЯрж┐ ржЗржЯрж╛рж░рзЗржмрж▓ ржирж╛ржУ рж╣рждрзЗ ржкрж╛рж░рзЗред

ржпрзЗржоржи, ржЙржкрж░рзЗрж░ `range` ржЙржжрж╛рж╣рж░ржгржЯрж┐ ржЗржЯрж╛рж░рзЗржмрж▓, ржХрж┐ржирзНрждрзБ ржПржЯрж┐ ржжрзЗржЦрждрзЗ ржЕрзНржпрж╛рж░рзЗрж░ ржоржд ржирж╛ ржХрзЗржиржирж╛ ржПрж░ numeric index ржУ `length` ржкрзНрж░ржкрж╛рж░рзНржЯрж┐ ржирзЗржЗред

ржПржмржВ ржирж┐ржЪрзЗ ржПржХржЯрж┐ ржЕржмржЬрзЗржХрзНржЯ ржбрж┐ржХрзНрж▓рзЗрзЯрж╛рж░ ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗ ржпрж╛ ржжрзЗржЦрждрзЗ ржЕрзНржпрж╛рж░рзЗрж░ ржоржд, ржХрж┐ржирзНрждрзБ ржЗржЯрж╛рж░рзЗржмрж▓ ржирж╛:

```js run
let arrayLike = { // has indexes and length => array-like
  0: "Hello",
  1: "World",
  length: 2
};

*!*
// Error (no Symbol.iterator)
for (let item of arrayLike) {}
*/!*
```

ржЗржЯрж╛рж░рзЗржмрж▓ ржПржмржВ *array-likes* рж╕рж╛ржзрж╛рж░ржгржд *array* ржирж╛, ржХрзЗржиржирж╛ ржПржжрзЗрж░ ржоржзрзНржпрзЗ ржЕрзНржпрж╛рж░рзЗрж░ ржорзЗржержбржЧрзБрж▓рзЛ ржкрж╛ржм ржирж╛ ржпрзЗржоржи `push`, `pop` ржЗрждрзНржпрж╛ржжрж┐ред ржПржЯрж┐ ржХрж┐ржЫрзБржЯрж╛ ржЕрж╕рзБржмрж┐ржзрж╛ржЬржиржХ, ржоржирзЗ ржХрж░рзБржи ржЖржорж╛ржжрзЗрж░ ржПржХржЯрж┐ ржЗржЯрж╛рж░рзЗржмрж▓ ржЕржмржЬрзЗржХрзНржЯ ржЖржЫрзЗ ржпрж╛ржХрзЗ ржЖржорж░рж╛ ржЕрзНржпрж╛рж░рзЗрж░ ржоржд ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ ржЪрж╛ржЗред ржпрзЗржоржи ржЙржкрж░рзЗрж░ `range` ржПрж░ ржоржзрзНржпрзЗ ржЕрзНржпрж╛рж░рзЗрж░ ржорзЗржержбржЧрзБрж▓рзЛ ржЗржоржкрзНрж▓рж┐ржорзЗржирзНржЯ ржХрж░рж╛ред ржХрж┐ржнрж╛ржмрзЗ ржЖржорж░рж╛ ржПржЯрж┐ ржХрж░рждрзЗ ржкрж╛рж░рж┐?

## Array.from

ржПржХрзНрж╖рзЗрждрзНрж░рзЗ ржПржХржЯрж┐ ржорзЗржержб ржЖржЫрзЗ [Array.from](mdn:js/Array/from) ржпрж╛ ржПржХржЯрж┐ ржЗржЯрж╛рж░рзЗржмрж▓ ржмрж╛ ржПржХржЯрж┐ ржЕрзНржпрж╛рж░рзЗрж░ ржоржд ржнрзНржпрж╛рж▓рзБ ржирж┐ржмрзЗ ржПржмржВ ржПржХрзЗ `Array` рж╣рж┐рж╕рзЗржмрзЗ рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рзЗред рждрж╛рж╣рж▓рзЗ ржЖржорж░рж╛ ржЕрзНржпрж╛рж░рзЗрж░ рж╕ржХрж▓ ржлрж┐ржЪрж╛рж░ ржПрж░ ржоржзрзНржпрзЗ ржкрж╛ржмред

ржпрзЗржоржи:

```js run
let arrayLike = {
  0: "Hello",
  1: "World",
  length: 2
};

*!*
let arr = Array.from(arrayLike); // (*)
*/!*
alert(arr.pop()); // World (method works)
```

`(*)` рж▓рж╛ржЗржирзЗ `Array.from` ржПржХржЯрж┐ ржЕржмржЬрзЗржХрзНржЯ ржирзЗрзЯ, рждрж╛рж░ржкрж░ ржПржЯрж┐рж░ рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░ ржЕрзНржпрж╛рж░рзЗрж░ ржоржд ржмрж╛ ржЗржЯрж╛рж░рзЗржмрж▓ рж╣рж▓рзЗ ржПржХржЯрж┐ ржирждрзБржи ржЕрзНржпрж╛рж░рзЗ рждрзИрж░рж┐ ржХрж░рзЗ рждрж╛рж░ ржоржзрзНржпрзЗ рж╕ржХрж▓ ржЖржЗржЯрзЗржо ржХржкрж┐ ржХрж░рзЗред

ржЗржЯрж╛рж░рзЗржмрж▓рзЗрж░ ржХрзНрж╖рзЗрждрзНрж░рзЗржУ ржПржЯрж┐ ржШржЯржмрзЗ:

```js
// ржоржирзЗ ржХрж░рзБржи ржПржЦрж╛ржирзЗрж░ range ржПржХржЯрж┐ ржЗржЯрж╛рж░рзЗржмрж▓
let arr = Array.from(range);
alert(arr); // 1,2,3,4,5 (ржЕрзНржпрж╛рж░рзЗ ржерзЗржХрзЗ toString ржХржиржнрж╛рж░рзНрж╢ржи ржХрж╛ржЬ ржХрж░ржЫрзЗ)
```

`Array.from` ржЕржкрж╢ржирж╛рж▓ ржЖрж░рзНржЧрзБржорзЗржирзНржЯ "mapping" ржлрж╛ржВрж╢ржи ржЖржЫрзЗ:
```js
Array.from(obj[, mapFn, thisArg])
```

ржжрзНржмрж┐рждрзАрзЯ ржЖрж░рзНржЧрзБржорзЗржирзНржЯ `mapFn` ржкрзНрж░рждрж┐ржЯрж┐ ржПрж▓рж┐ржорзЗржирзНржЯ ржирждрзБржи ржЕрзНржпрж╛рж░рзЗрждрзЗ рж╕ржВржпрзБржХрзНржд рж╣ржУрзЯрж╛рж░ ржкрзВрж░рзНржмрзЗ ржХрж▓ рж╣ржмрзЗ, ржПржмржВ `thisArg` ржПржЯрж┐рж░ ржЬржирзНржп `this` рж╕рзЗржЯ ржХрж░рждрзЗ ржжрзЗрзЯред

ржЙржжрж╛рж╣рж░ржгрж╕рзНржмрж░рзВржк:

```js
// ржоржирзЗ ржХрж░рзБржи ржПржЦрж╛ржирзЗрж░ range ржнрзНржпрж╛рж░рж┐рзЯрзЗржмрж▓ржЯрж╛ ржирзЗрзЯрж╛ рж╣ржЪрзНржЫрзЗ

// ржкрзНрж░рждрж┐ржЯрж┐ ржирж╛ржорзНржмрж╛рж░рзЗрж░ ржмрж░рзНржЧ
let arr = Array.from(range, num => num * num);

alert(arr); // 1,4,9,16,25
```

`Array.from` ржПрж░ рж╕рж╛рж╣рж╛ржпрзНржпрзЗ рж╕рзНржЯрзНрж░рж┐ржВрзЯрзЗрж░ ржкрзНрж░рждрж┐ржЯрж┐ ржХрзНржпрж╛рж░рзЗржХржЯрж╛рж░ржХрзЗ ржЕрзНржпрж╛рж░рзЗрж░ ржЖржЗржЯрзЗржорзЗ рж░рзВржкрж╛ржирзНрждрж░:

```js run
let str = 'ЁЭТ│ЁЯШВ';

// рж╕рзНржЯрзНрж░рж┐ржВрзЯрзЗрж░ ржХрзНржпрж╛рж░рзЗржХрзНржЯрж╛рж░ржХрзЗ ржЕрзНржпрж╛рж░рзЗрж░ ржПрж▓рж┐ржорзЗржирзНржЯ рж╣рж┐рж╕рзЗржмрзЗ ржирзЗрзЯрж╛
let chars = Array.from(str);

alert(chars[0]); // ЁЭТ│
alert(chars[1]); // ЁЯШВ
alert(chars.length); // 2
```

`str.split` ржЖрж▓рж╛ржжрж╛, ржПржЯрж┐ рж╕рзНржЯрзНрж░рж┐ржВрзЯрзЗрж░ ржЗржЯрж╛рж░рзЗржмрж▓рзЗрж░ ржЙржкрж░ ржирж┐рж░рзНржнрж░ ржХрж░рзЗ, ржарж┐ржХ `for..of` ржПрж░ ржоржд, рж╕ржарж┐ржХржнрж╛ржмрзЗ *surrogate pairs* ржПрж░ рж╕рж╛ржерзЗ ржХрж╛ржЬ ржХрж░рзЗред

ржПржЯрж┐ ржПржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ:

```js run
let str = 'ЁЭТ│ЁЯШВ';

let chars = []; // ржЗржирзНржЯрж╛рж░ржирж╛рж▓рж┐ Array.from ржПржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ
for (let char of str) {
  chars.push(char);
}

alert(chars);
```

...рждржмрзЗ ржПржЯрж┐ рж╕ржВржХрзНрж╖рж┐ржкрзНрждред

ржЖржорж░рж╛ surrogate-pairs ржПрж░ ржЬржирзНржп `slice` рждрзИрж░рж┐ ржХрж░рждрзЗ ржкрж╛рж░рж┐:

```js run
function slice(str, start, end) {
  return Array.from(str).slice(start, end).join('');
}

let str = 'ЁЭТ│ЁЯШВЁй╖╢';

alert( slice(str, 1, 3) ); // ЁЯШВЁй╖╢

// ржмрж┐рж▓рзНржЯ ржЗржи ржорзЗржержб surrogate pairs рж╕рж╛ржкрзЛрж░рзНржЯ ржХрж░рзЗ ржирж╛
alert( str.slice(1, 3) ); // garbage (ржжрзБржЯрж┐ ржЖрж▓рж╛ржжрж╛ surrogate pairs ржПрж░ ржЕржВрж╢)
```


## рж╕рж╛рж░рж╛ржВрж╢

ржпрзЗрж╕ржм ржЕржмржЬрзЗржХрзНржЯрзЗ `for..of` рж▓рзБржк ржХрж╛ржЬ ржХрж░рзЗ рждрж╛ржжрзЗрж░ ржмрж▓рж╛ рж╣рзЯ *iterable*ред

- ржЗржЯрж╛рж░рзЗржмрж▓ ржЕржмржЬрзЗржХрзНржЯрзЗ `Symbol.iterator` ржирж╛ржорзЗрж░ ржПржХржЯрж┐ ржорзЗржержб ржЕржмрж╢рзНржпржЗ ржерж╛ржХрж╛ рж▓рж╛ржЧржмрзЗред
    - `obj[Symbol.iterator]()` ржПрж░ ржлрж▓рзЗ ржПржЯрж┐ ржПржХржЯрж┐ *iterator* ржХрж▓ ржХрж░ржмрзЗред ржПржЯрж┐ ржЕржирзНржпрж╛ржирзНржп ржЗржЯрж╛рж░рзЗрж╢ржи ржкрзНрж░рж╕рзЗрж╕ ржЧрзБрж▓рзЛ рж╣рзНржпрж╛ржирзНржбрзЗрж▓ ржХрж░ржмрзЗред
    - ржЗржЯрж╛рж░рзЗржЯрж░ ржЕржмржЬрзЗржХрзНржЯрзЗ ржЕржмрж╢рзНржпржЗ `next()` ржирж╛ржорзЗрж░ ржПржХржЯрж┐ ржорзЗржержб ржерж╛ржХрждрзЗ рж╣ржмрзЗ ржпрж╛ рж░рж┐ржЯрж╛рж░рзНржи ржХрж░ржмрзЗ ржПржХржЯрж┐ ржЕржмржЬрзЗржХрзНржЯ `{done: Boolean, value: any}`, ржПржЦрж╛ржирзЗ `done:true` ржжрзНржмрж╛рж░рж╛ ржмрзБржЭрж╛рзЯ ржЗржЯрж╛рж░рзЗрж╢ржи рж╕ржорзНржкржирзНржи рж╣рзЯрзЗржЫрзЗ, ржЕржирзНржпржерж╛рзЯ `value` ржЯрж┐ рж╣ржмрзЗ ржкрж░ржмрж░рзНрждрзА ржнрзНржпрж╛рж▓рзБред
- `Symbol.iterator` ржорзЗржержбржЯрж┐ `for..of` ржПрж░ ржЬржирзНржп рж╕рзНржмрзЯржВржХрзНрж░рж┐рзЯржнрж╛ржмрзЗ ржХрж▓ рж╣рзЯ, рждржмрзЗ ржЖржорж░рж╛ ржПржЯрж┐ ржорзНржпрж╛ржирзБрзЯрж╛рж▓рж┐ржУ ржХрж░рждрзЗ ржкрж╛рж░ржмред
- ржмрж┐рж▓рзНржЯ ржЗржи ржЗржЯрж╛рж░рзЗржЯрж░ ржпрзЗржоржи рж╕рзНржЯрзНрж░рж┐ржВ ржмрж╛ ржЕрзНржпрж╛рж░рзЗ ржПрж░рж╛ржУ `Symbol.iterator` ржЗржоржкрзНрж▓рж┐ржорзЗржирзНржЯ ржХрж░рзЗред
- рж╕рзНржЯрзНрж░рж┐ржВрзЯрзЗрж░ ржЗржЯрж╛рж░рзЗржЯрж░ *surrogate pairs* рж╕ржорзНржкрж░рзНржХрзЗ ржЬрж╛ржирзЗред


ржпрзЗрж╕ржм ржЕржмржЬрзЗржХрзНржЯрзЗрж░ ржкрзНрж░ржкрж╛рж░рзНржЯрж┐ рж╣рж▓ ржХрзНрж░ржорж┐ржХ рж╕ржВржЦрзНржпрж╛ ржПржмржВ `length` ржкрзНрж░ржкрж╛рж░рзНржЯрж┐ ржЖржЫрзЗ рждрж╛ржжрзЗрж░ ржмрж▓рж╛ рж╣рзЯ *array-like*ред ржпржжрж┐ржУ ржПрж░рж╛ ржжрзЗржЦрждрзЗ ржЕрзНржпрж╛рж░рзЗрж░ ржоржд рждрж╛рж░ржкрж░ржУ ржЖржорж░рж╛ ржПржжрзЗрж░ ржоржзрзНржпрзЗ ржЕрзНржпрж╛рж░рзЗрж░ ржмрж┐рж▓рзНржЯ-ржЗржи ржорзЗржержб ржЧрзБрж▓рзЛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ ржкрж╛рж░ржм ржирж╛ред

ржпржжрж┐ ржЖржорж░рж╛ рж╕рзНржкрзЗрж╕рж┐ржлрж┐ржХрзЗрж╢ржи ржжрзЗржЦрж┐ рждрж╛рж╣рж▓рзЗ ржжрзЗржЦржм ржмрзЗрж╢рж┐рж░ржнрж╛ржЧ ржмрж┐рж▓рзНржЯ ржЗржи ржорзЗржержб "real" ржЕрзНржпрж╛рж░рзЗрж░ ржкрж░рж┐ржмрж░рзНрждрзЗ ржХрж╛ржЬ ржХрж░рзЗ ржЗржЯрж╛рж░рзЗржмрж▓ ржмрж╛ *array-like* ржПрж░ ржорждред ржХрзЗржиржирж╛ ржПрж░рж╛ ржЖрж░рзЛ ржмрзЗрж╢рж┐ ржЕрзНржпрж╛ржмрж╕рзНржЯрзНрж░рж╛ржХрзНржЯред

ржЗржЯрж╛рж░рзЗржмрж▓ ржмрж╛ *array-like* ржПрж░ ржоржд ржЕржмржЬрзЗржХрзНржЯ рж╕ржорзВрж╣ржХрзЗ `Array` рждрзЗ ржХржиржнрж╛рж░рзНржЯ ржХрж░рждрзЗ ржЖржорж░рж╛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж┐ `Array.from(obj[, mapFn, thisArg])`, рждрж╛рж╣рж▓рзЗ ржЖржорж░рж╛ ржЕрзНржпрж╛рж░рзЗрж░ ржорзЗржержбрж╕ржорзВрж╣ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ ржкрж╛рж░ржмред ржЕржкрж╢ржирж╛рж▓ ржЖрж░рзНржЧрзБржорзЗржирзНржЯ `mapFn` ржлрж╛ржВрж╢ржи ржкрзНрж░рждрж┐ржЯрж┐ ржПрж▓рж┐ржорзЗржирзНржЯ ржЕрзНржпрж╛рж░рзЗрждрзЗ рж╕ржВржпрзБржХрзНржд рж╣ржУрзЯрж╛рж░ ржЖржЧрзЗ ржлрж╛ржВрж╢ржиржЯрж┐ ржХрж▓ ржХрж░рзЗ ржПржмржВ `thisArg` ржПржЯрж┐рж░ ржЬржирзНржп `this` рж╕рзЗржЯ ржХрж░рждрзЗ ржжрзЗрзЯред
